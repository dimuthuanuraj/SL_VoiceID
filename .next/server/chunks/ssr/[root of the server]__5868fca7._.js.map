{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/services/firebase.ts"],"sourcesContent":["\n// Import the functions you need from the SDKs you need\nimport { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n\n// VITAL: PASTE YOUR FIREBASE CONFIGURATION OBJECT HERE\n// The error \"auth/api-key-not-valid\" means the values below are incorrect.\n// 1. Go to your Firebase project console.\n// 2. In Project settings > General tab, find your web app.\n// 3. Copy the 'firebaseConfig' object and paste it below, replacing the placeholder.\n//\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain:  process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket:  process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId:  process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId:  process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n\n\n// Initialize Firebase\n// This line checks if a Firebase app is already initialized to prevent errors.\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\nexport { app, auth, db };\n"],"names":[],"mappings":"AACA,uDAAuD;;;;;;AACvD;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,uDAAuD;AACvD,2EAA2E;AAC3E,0CAA0C;AAC1C,2DAA2D;AAC3D,qFAAqF;AACrF,EAAE;AACF,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAIA,sBAAsB;AACtB,+EAA+E;AAC/E,MAAM,MAAM,CAAC,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,GAAG,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE,kBAAkB,CAAA,GAAA,oLAAA,CAAA,SAAM,AAAD;AACrE,MAAM,OAAO,CAAA,GAAA,yOAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/services/user-service.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview User Service for Firebase Firestore\n * This service manages speaker profiles in the Firestore database.\n */\n\nimport { db } from './firebase'; \nimport { collection, doc, setDoc, getDocs, query, where, getDoc, runTransaction } from 'firebase/firestore';\nimport type { SpeakerProfile } from './speaker-id';\n\nconst USERS_COLLECTION = 'users';\nconst COUNTER_DOCUMENT = '--counter--';\nconst STARTING_NUMERIC_ID = 90000;\n\n\n/**\n * Generates the next unique Speaker ID by using a Firestore transaction to atomically increment a counter.\n * This is a robust, server-side method to ensure unique, sequential IDs without race conditions.\n * @returns A promise that resolves to the next unique speaker ID (e.g., \"id90001\").\n */\nexport async function generateNextSpeakerId(): Promise<string> {\n    const counterRef = doc(db, USERS_COLLECTION, COUNTER_DOCUMENT);\n\n    try {\n        const newNumericId = await runTransaction(db, async (transaction) => {\n            const counterDoc = await transaction.get(counterRef);\n            \n            let nextId: number;\n            if (!counterDoc.exists() || !counterDoc.data().lastId) {\n                console.log(\"Counter document not found. Initializing with starting ID.\");\n                nextId = STARTING_NUMERIC_ID;\n            } else {\n                const lastId = counterDoc.data().lastId as number;\n                if(lastId < STARTING_NUMERIC_ID) {\n                    console.warn(`Stored lastId (${lastId}) is less than the starting ID. Resetting.`);\n                    nextId = STARTING_NUMERIC_ID;\n                } else {\n                    nextId = lastId + 1;\n                }\n            }\n            \n            transaction.set(counterRef, { lastId: nextId }, { merge: true });\n            return nextId;\n        });\n\n        return `id${newNumericId}`;\n\n    } catch (error) {\n        console.error(\"Error generating next speaker ID:\", error);\n        throw new Error(\"Could not generate a unique Speaker ID.\");\n    }\n}\n\n\n/**\n * Adds or updates a speaker's profile in the Firestore database.\n * The document ID is the user's unique Firebase Authentication UID.\n * @param uid - The Firebase Authentication user ID.\n * @param userProfile - The speaker profile object.\n * @returns A promise that resolves when the operation is complete.\n */\nexport async function addUserProfile(uid: string, userProfile: SpeakerProfile): Promise<void> {\n  try {\n    const userDocRef = doc(db, USERS_COLLECTION, uid);\n    await setDoc(userDocRef, userProfile);\n    console.log(`User profile for UID ${uid} (Speaker ID: ${userProfile.speakerId}) saved successfully.`);\n  } catch (error) {\n    console.error(\"Error saving user profile to Firestore:\", error);\n    throw new Error('Could not save user profile.');\n  }\n}\n\n/**\n * Retrieves a single speaker profile from Firestore by their Firebase Auth UID.\n * @param uid The Firebase Authentication user ID.\n * @returns A promise that resolves to the SpeakerProfile object or null if not found.\n */\nexport async function getUserProfile(uid: string): Promise<SpeakerProfile | null> {\n    try {\n        const userDocRef = doc(db, USERS_COLLECTION, uid);\n        const docSnap = await getDoc(userDocRef);\n\n        if (docSnap.exists()) {\n            return docSnap.data() as SpeakerProfile;\n        } else {\n            console.log(`No user profile found for UID: ${uid}`);\n            return null;\n        }\n    } catch (error) {\n        console.error(\"Error fetching user by UID:\", error);\n        throw new Error(\"Could not fetch user profile.\");\n    }\n}\n\n\n/**\n * Retrieves a single speaker profile from Firestore by their Speaker ID.\n * This performs a query, as speakerId is not the document ID.\n * @param speakerId The ID of the speaker to retrieve (e.g., 'id90001').\n * @returns A promise that resolves to the SpeakerProfile object or null if not found.\n */\nexport async function getUserBySpeakerId(speakerId: string): Promise<SpeakerProfile | null> {\n    try {\n        const usersCollectionRef = collection(db, USERS_COLLECTION);\n        const q = query(usersCollectionRef, where(\"speakerId\", \"==\", speakerId));\n        const querySnapshot = await getDocs(q);\n\n        if (querySnapshot.empty) {\n            console.log(`No user profile found for speakerId: ${speakerId}`);\n            return null;\n        }\n        \n        // Assuming speakerId is unique, return the first found document.\n        const userDoc = querySnapshot.docs[0];\n        return userDoc.data() as SpeakerProfile;\n\n    } catch (error) {\n        console.error(\"Error fetching user by speakerId:\", error);\n        throw new Error(\"Could not fetch user profile by Speaker ID.\");\n    }\n}\n\n\n/**\n * Retrieves all registered speaker profiles from Firestore.\n * @returns A promise that resolves to an array of SpeakerProfile objects.\n */\nexport async function getAllUsers(): Promise<SpeakerProfile[]> {\n  try {\n    const usersCollectionRef = collection(db, USERS_COLLECTION);\n    const q = query(usersCollectionRef, where(\"speakerId\", \"!=\", null)); // Filter out counter doc\n    const querySnapshot = await getDocs(q);\n    \n    const users: SpeakerProfile[] = [];\n    querySnapshot.forEach((doc) => {\n      // Type assertion to ensure the data matches the SpeakerProfile interface\n      users.push(doc.data() as SpeakerProfile);\n    });\n    \n    console.log(`Fetched ${users.length} registered speakers.`);\n    return users;\n\n  } catch (error) {\n    console.error(\"Error retrieving registered speakers from Firestore:\", error);\n    throw new Error('Could not retrieve registered speakers.');\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/register/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/register/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/register/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6R,GAC1T,2DACA","debugId":null}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/register/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/register/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/register/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyQ,GACtS,uCACA","debugId":null}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}